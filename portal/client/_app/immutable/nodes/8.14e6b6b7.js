import{s as K,f as k,a as C,g as A,h as B,W as O,c as S,d as b,j as w,i as y,x as m,Y as T,N as U,Z as Q,M as X,z as ee,l as F,m as L,n as te}from"../chunks/scheduler.35986cdd.js";import{S as se,i as re,b as D,d as R,m as V,a as h,t as E,c as W,e as q,g as Y}from"../chunks/index.f0d1f3f0.js";import"../chunks/singletons.c32206f5.js";import{p as ae}from"../chunks/stores.3aa41ca1.js";import{l as ne}from"../chunks/index.0e7f8c4e.js";import{B as le}from"../chunks/Button.040683f0.js";import{A as J}from"../chunks/Alert.4ad3e0b7.js";function Z(r){let s,e;return s=new J({props:{$$slots:{default:[oe]},$$scope:{ctx:r}}}),{c(){D(s.$$.fragment)},l(t){R(s.$$.fragment,t)},m(t,n){V(s,t,n),e=!0},i(t){e||(h(s.$$.fragment,t),e=!0)},o(t){E(s.$$.fragment,t),e=!1},d(t){q(s,t)}}}function oe(r){let s;return{c(){s=F("Failed to reset password")},l(e){s=L(e,"Failed to reset password")},m(e,t){y(e,s,t)},d(e){e&&b(s)}}}function G(r){let s,e;return s=new J({props:{class:"mb-2",color:"green",$$slots:{default:[ie]},$$scope:{ctx:r}}}),{c(){D(s.$$.fragment)},l(t){R(s.$$.fragment,t)},m(t,n){V(s,t,n),e=!0},p(t,n){const c={};n&513&&(c.$$scope={dirty:n,ctx:t}),s.$set(c)},i(t){e||(h(s.$$.fragment,t),e=!0)},o(t){E(s.$$.fragment,t),e=!1},d(t){q(s,t)}}}function ie(r){let s,e;return{c(){s=F("A reset email has been sent to "),e=F(r[0])},l(t){s=L(t,"A reset email has been sent to "),e=L(t,r[0])},m(t,n){y(t,s,n),y(t,e,n)},p(t,n){n&1&&te(e,t[0])},d(t){t&&(b(s),b(e))}}}function fe(r){let s;return{c(){s=F("Submit")},l(e){s=L(e,"Submit")},m(e,t){y(e,s,t)},d(e){e&&b(s)}}}function ue(r){let s,e,t,n="Reset Password",c,_,v,p,d,i,z="Email Address",M,g,N,$,x,j,H,l=r[1]&&Z(r),a=r[3]&&G(r);return $=new le({props:{loading:r[2],color:"green",type:"submit",class:"w-full py-2 px-4 text-white bg-green-500 rounded-md hover:bg-green-600 focus:outline-none focus:ring focus:ring-green-200 focus:ring-opacity-50",$$slots:{default:[fe]},$$scope:{ctx:r}}}),{c(){s=k("main"),e=k("div"),t=k("h2"),t.textContent=n,c=C(),l&&l.c(),_=C(),a&&a.c(),v=C(),p=k("form"),d=k("div"),i=k("label"),i.textContent=z,M=C(),g=k("input"),N=C(),D($.$$.fragment),this.h()},l(o){s=A(o,"MAIN",{class:!0});var f=B(s);e=A(f,"DIV",{class:!0});var u=B(e);t=A(u,"H2",{class:!0,"data-svelte-h":!0}),O(t)!=="svelte-8e6f5w"&&(t.textContent=n),c=S(u),l&&l.l(u),_=S(u),a&&a.l(u),v=S(u),p=A(u,"FORM",{});var I=B(p);d=A(I,"DIV",{class:!0});var P=B(d);i=A(P,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),O(i)!=="svelte-1x1vi3e"&&(i.textContent=z),M=S(P),g=A(P,"INPUT",{type:!0,class:!0}),P.forEach(b),N=S(I),R($.$$.fragment,I),I.forEach(b),u.forEach(b),f.forEach(b),this.h()},h(){w(t,"class","text-2xl font-semibold mb-4"),w(i,"for","email"),w(i,"class","block text-sm font-medium text-gray-700"),w(g,"type","email"),w(g,"class","mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring focus:ring-green-200 focus:border-green-300"),w(d,"class","mb-6"),w(e,"class","bg-white p-8 rounded shadow-md w-96 sm:w-96"),w(s,"class","min-h-screen flex items-center justify-center bg-gray-100")},m(o,f){y(o,s,f),m(s,e),m(e,t),m(e,c),l&&l.m(e,null),m(e,_),a&&a.m(e,null),m(e,v),m(e,p),m(p,d),m(d,i),m(d,M),m(d,g),T(g,r[0]),m(p,N),V($,p,null),x=!0,j||(H=[U(g,"input",r[5]),U(p,"submit",Q(r[4]))],j=!0)},p(o,[f]){o[1]?l?f&2&&h(l,1):(l=Z(o),l.c(),h(l,1),l.m(e,_)):l&&(Y(),E(l,1,1,()=>{l=null}),W()),o[3]?a?(a.p(o,f),f&8&&h(a,1)):(a=G(o),a.c(),h(a,1),a.m(e,v)):a&&(Y(),E(a,1,1,()=>{a=null}),W()),f&1&&g.value!==o[0]&&T(g,o[0]);const u={};f&4&&(u.loading=o[2]),f&512&&(u.$$scope={dirty:f,ctx:o}),$.$set(u)},i(o){x||(h(l),h(a),h($.$$.fragment,o),x=!0)},o(o){E(l),E(a),E($.$$.fragment,o),x=!1},d(o){o&&b(s),l&&l.d(),a&&a.d(),q($),j=!1,X(H)}}}function ce(r,s,e){let t;ee(r,ae,i=>e(6,t=i));let n="";t.url.searchParams.get("token");let c=!1,_=!1,v=!1;function p(){e(2,_=!0),e(1,c=!1),ne.post("/auth/forgot-password",{email:n}).then(i=>{i.ok?e(3,v=!0):e(1,c=!0),e(2,_=!1)}).catch(()=>{e(1,c=!0),e(2,_=!1)})}function d(){n=this.value,e(0,n)}return[n,c,_,v,p,d]}class $e extends se{constructor(s){super(),re(this,s,ce,ue,K,{})}}export{$e as component};
